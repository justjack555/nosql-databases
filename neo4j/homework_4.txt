// The scenario you have used for your schema is:
//
// I am modeling my immediate family tree, along
// with a couple of colleges that multiple family
// members have attended and a place of work that
// multiple family members have been employed at.

// Nodes
CREATE (n:Workplace { company_name: 'The Big Apple'});
CREATE (n:Institution { school_name: 'Johnson & Wales'});
CREATE (n:Institution { school_name: 'Providence College'});
CREATE (n:Person { name: 'Becky'});
CREATE (n:Person { name: 'John'});
CREATE (n:Person { name: 'Andrew'});
CREATE (n:Person { name: 'Becca'});
CREATE (n:Person { name: 'Jack'});

// Relationships
MATCH (a:Person), (b:Person)
       WHERE a.name = 'Andrew' AND b.name = 'Becca'
       CREATE (a)-[r:BROTHER_OF { since: 1998}]->(b)
       RETURN type(r), r.since;

MATCH (a:Person), (b:Person)
       WHERE a.name='Jack' AND b.name = 'Becca'
       CREATE (a)-[r:BROTHER_OF { since: 1998 }]->(b)
       RETURN type(r), r.since;

MATCH (a:Person), (b:Person)
       WHERE a.name='Andrew' AND b.name = 'Jack'
       CREATE (a)-[r:BROTHER_OF { since: 1996 }]->(b)
       RETURN type(r), r.since;

MATCH (a:Person), (b:Person)
       WHERE a.name='Becky' AND b.name = 'Jack'
       CREATE (a)-[r:MOTHER_OF { since: 1995 }]->(b)
       RETURN type(r), r.since;

MATCH (a:Person), (b:Person)
       WHERE a.name='John' AND b.name = 'Andrew'
       CREATE (a)-[r:FATHER_OF { since: 1996 }]->(b)
       RETURN type(r), r.since;

MATCH (a:Person), (b:Person)
       WHERE a.name='Jack' AND b.name = 'Becky'
       CREATE (a)-[r:SON_OF { since: 1995 }]->(b)
       RETURN type(r), r.since;

MATCH (a:Person), (b:Institution)
       WHERE a.name='Becky' AND b.school_name = 'Providence College'
       CREATE (a)-[r:ATTENDED { Graduated_In: 1990 }]->(b)
       RETURN type(r), r.Graduated_In;

MATCH (a:Person), (b:Institution)
       WHERE a.name='Jack' AND b.school_name = 'Providence College'
       CREATE (a)-[r:ATTENDED { Graduated_In: 2018 }]->(b)
       RETURN type(r), r.Graduated_In;

MATCH (a:Person), (b:Institution)
       WHERE a.name='Becca' AND b.school_name = 'Johnson & Wales'
       CREATE (a)-[r:ATTENDED { Graduated_In: 2021 }]->(b)
       RETURN type(r), r.Graduated_In;

MATCH (a:Person), (b:Institution)
       WHERE a.name='John' AND b.school_name = 'Johnson & Wales'
       CREATE (a)-[r:ATTENDED { Graduated_In: 1990 }]->(b)
       RETURN type(r), r.Graduated_In;

MATCH (a:Person), (b:Workplace)
       WHERE a.name='Jack' AND b.company_name = 'The Big Apple'
       CREATE (a)-[r:WORKED_AT { Year: 2011 }]->(b)
       RETURN type(r), r.Year;

MATCH (a:Person), (b:Workplace)
       WHERE a.name='Andrew' AND b.company_name = 'The Big Apple'
       CREATE (a)-[r:WORKED_AT { Year: 2013 }]->(b)
       RETURN type(r), r.Year;

// Find people who have worked at The Big Apple
MATCH (comp:Workplace { company_name: 'The Big Apple' })<-[r]-(person)
       RETURN type(r), comp.company_name, person.name;

// Find people who are either mother or brother of Jack
MATCH (jack:Person { name: 'Jack' })<-[relation:MOTHER_OF|:BROTHER_OF]-(person)
       RETURN jack.name, person.name, type(relation);


